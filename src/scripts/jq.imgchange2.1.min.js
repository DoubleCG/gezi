$.extend($.easing,{easeOutQuint:function(e,t,s,i,a){return i*((t=t/a-1)*t*t*t*t+1)+s},easeOutBounce:function(e,t,s,i,a){return(t/=a)<1/2.75?i*(7.5625*t*t)+s:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+s:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+s:i*(7.5625*(t-=2.625/2.75)*t+.984375)+s}}),function(C){C.fn.extend({imgChange:function(s){s=C.extend({thumbObj:null,botPrev:null,botNext:null,effect:"fade",curClass:"act",thumbOverEvent:1,speed:400,autoChange:1,changeTime:5e3,delayTime:0,showTxt:0,visible:1,steps:1,circular:1,start:0,vertical:1,easing:null,wrapSize:0,beforeStart:null,afterEnd:null},s||{});var i=this,a=i.parent(),n=a.parent(),l=i.length,o=a.find("img"),c=s.vertical,r=c?"top":"left",d=c?"height":"width",e=c?"width":"height",p=c?i.outerHeight(!0):i.outerWidth(!0),t=c?i.outerWidth(!0):i.outerHeight(!0),f=0,h=0,u=s.visible;if(l){function b(){a[0].style.cssText="margin: 0;padding: 0;position: absolute;left:0;top:0;"+d+":999999px",n[0].style.cssText="overflow: hidden;position: relative;"+e+":"+t+"px",i.css("float",c?"none":"left")}switch(s.showTxt&&n.after("<div class='txt'><a href='"+o[0].attributes["data-url"].nodeValue+"'>"+o[0].alt+"</a></div>"),s.effect){case"wfScroll":if(l<u)return;b(),a.prepend(i.clone());var m=T(i);n.css(d,s.wrapSize||T(i.slice(0,u)));break;case"scroll":case"scroll2":if(l<u)return;if(i.css({overflow:"hidden",width:i.width(),height:i.height()}),b(),n.css(d,p*u),"scroll2"==s.effect){var v=0;s.circular&&(a.prepend(i.slice(l-u).clone()).append(i.slice(0,u).clone()).css(r,-u*p),l=a[0].children.length,v=u)}break;case"wb":if(l<u)return;a[0].style.position="relative",n[0].style.cssText="overflow: hidden;position:relative;height:"+p*u+"px";break;case"stream":var g=o.clone().css(d,10*p).css(r,p).css("position","absolute").prependTo(n);i.css(d,0).css({overflow:"hidden",position:"absolute"}).slice(0,1).css(d,p);break;default:i.css("display","none")[0].style.display="block"}}if(s.thumbObj){var y,x=C(s.thumbObj);x.removeClass(s.curClass).on("click",function(){f=x.index(this),I()})[0].className+=" "+s.curClass,s.thumbOverEvent&&x.on({mouseover:function(){f=x.index(this),y=setTimeout(I,s.delayTime)},mouseout:function(){clearTimeout(y)}})}if(s.botNext&&C(s.botNext).on("click",function(){k()}),s.botPrev&&C(s.botPrev).on("click",function(){if("scroll2"==s.effect)return z(v-s.steps);f=(h+l-1)%l,I()}),s.autoChange){var w=setInterval(k,s.changeTime);a.add(x).add(s.botPrev+","+s.botNext).on({mouseover:function(){clearInterval(w)},mouseout:function(){w=setInterval(k,s.changeTime)}})}function k(){if("scroll2"==s.effect)return z(v+s.steps);"wfScroll"==s.effect?c?n.scrollTop(n.scrollTop()+s.steps-(n.scrollTop()>=m&&m)):n.scrollLeft(n.scrollLeft()+s.steps-(n.scrollLeft()>=m&&m)):(f=(h+1)%(l||x&&x.length),I())}function T(e){for(var t=0,s=e.length,i=0;i<s;i++)t+=c?C(e[i]).outerHeight(!0):C(e[i]).outerWidth(!0);return t}function I(){if(h!=f){if(s.beforeStart&&s.beforeStart.call(this),x&&(x.removeClass(s.curClass)[f].className+=" "+s.curClass),l<=f||!l)return h=f,!1;switch(s.effect){case"flipper":i.stop(1,1).css({zIndex:0}).slice(h,h+1).animate({width:"hide",left:"50%"},s.speed),i.slice(f,f+1).css({zIndex:2,left:"50%",display:"none"}).animate({left:0,width:"show"},s.speed);break;case"zoom":i.stop(1,1).slice(h,h+1).animate({opacity:"hide"},s.speed),i.slice(f,f+1).css({zIndex:1,left:"50%",top:"50%",display:"none"}).animate({left:0,top:0,height:"show",width:"show"},s.speed);break;case"turnDown":i.stop(1,1).css({top:0}).slice(h,h+1).animate({height:"hide",top:p},s.speed),i.slice(f,f+1).animate({height:"show"},s.speed);break;case"scroll":a.stop(0,0).animate(c?{top:-f*p}:{left:-f*p},s.speed,s.easing);break;case"cutIn":i.stop(1,1).css({zIndex:0})[f].style.zIndex=1,i.slice(f,f+1).css({display:"block",zIndex:2,top:-p}).animate({top:0},s.speed,s.easing);break;case"flyFade":var e=Math.floor(4*Math.random()),t=(e%2?-1:1)*(e<2?i.outerWidth():i.outerHeight());i.stop(1,1).css({zIndex:1,display:"block",top:0,left:0,opacity:1})[f].style.zIndex=2,i.slice(h,h+1).css({zIndex:3}).animate(e<2?{opacity:0,left:t}:{opacity:0,top:t},s.speed,s.easing);break;case"stream":i.stop(0,0).css(d,0).slice(f,f+1).animate(c?{height:p}:{width:p},s.speed,s.easing),g.css(r,p).stop(0,0).slice(f,f+1).css(r,0).animate(c?{top:9*-p}:{left:9*-p},s.speed,s.easing);break;case"alternately":i.stop(0,0).css({display:"none"}).slice(h,h+1).css({zIndex:10,display:"block"}).animate(c?{top:-p/2}:{left:-p/2},s.speed,function(){C(this).css({zIndex:5}).animate(c?{top:0}:{left:0},s.speed)}),i.slice(f,f+1).css({display:"block"}).animate(c?{top:p/2}:{left:p/2},s.speed,function(){C(this).css({zIndex:10}).animate(c?{top:0}:{left:0},s.speed)});break;case"wb":a.animate({top:1.3*p},s.speed,function(){a.prepend(this.children[l-1]),this.children[0].style.display="none",this.style.top=0,C(this.firstChild).animate({opacity:"show"})});break;default:s.speed?(i.stop(1,1).slice(h,h+1).animate({opacity:"hide"},s.speed),i.slice(f,f+1).animate({opacity:"show"},s.speed)):h<l&&(i[h].style.display="none",i[f].style.display="block")}s.showTxt&&n.next().html("<a href='"+o[f].attributes["data-url"].nodeValue+"'>"+o[f].alt+"</a>"),h=f,s.afterEnd&&s.afterEnd.call(this)}}function z(e){if(s.beforeStart&&s.beforeStart.call(this),s.circular)e<=-1?(a.css(r,-(l-2*u)*p),v=l-2*u-(-1==e?1:s.steps)):l-u+1<=e?(a.css(r,-u*p),v=e==l-u+1?u+1:u+s.steps):v=e;else{if(e<0||l-u<e)return;v=e}return a.stop().animate(c?{top:-v*p}:{left:-v*p},s.speed,s.easing,function(){s.afterEnd&&s.afterEnd.call(this)}),!1}}})}(jQuery);